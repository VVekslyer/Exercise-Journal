#: include widgets/CustomDropDown.kv
#: include widgets/NumField.kv
#: include widgets/Calendar.kv
#: import Calendar widgets.Calendar
#: import CustomDropDown widgets.CustomDropDown
#: import NumField widgets.NumField
#: import AddWorkoutBottomSheet widgets.AddWorkoutBottomSheet

<Home>:
    MDBoxLayout:
        orientation: 'vertical'
        MDLabel:
            text: "\nWelcome back,"
            font_name: 'assets/fonts/Sofia-Pro-Semi-Bold.ttf'
            font_size: '14sp'
            size_hint: None, None
            width: root.width
            height: root.height * 0.05
            padding_x: dp(15)
        MDLabel:
            id: username_label
            text: app.current_user.name + "."
            font_name: 'assets/fonts/Sofia-Pro-Semi-Bold.ttf'
            font_size: '30sp'
            size_hint: None, None
            width: root.width
            height: root.height * 0.05
            padding_x: dp(15)
            padding_y: dp(10)
            y: root.height

        # Calendar
        # A horizontal list of buttons
        MDBoxLayout:
            orientation: 'horizontal'
            size_hint: 1.0, 0.25
            ScrollView:
                size_hint: 0.5, 1.0
                do_scroll_y: False
                bar_color: [0, 0, 0, 0]
                bar_inactive_color: [0, 0, 0, 0]
                GridLayout:
                    size_hint: None, 0.9
                    rows: 1
                    col_default_width: root.width * 0.15
                    width: self.minimum_width
                    spacing: dp(10)
                    padding: [dp(15), 0, 0, 0]

                    CalendarDay:
                        DayLabel:
                            text: 'Wed'
                        Date:
                            id: date1
                            on_release: root.set_new_date(date1, day1)
                            icon: 'assets/images/calendar-circle.png'
                            DateLabel:
                                id: day1
                                text: '7'
                                color: 1, 1, 1, 1

                    CalendarDay:
                        DayLabel:
                            text: 'Thu'
                        Date:
                            id: date2
                            on_release: root.set_new_date(date2, day2)
                            DateLabel:
                                id: day2
                                text: '8'

                    CalendarDay:
                        DayLabel:
                            text: 'Fri'
                        Date:
                            id: date3
                            on_release: root.set_new_date(date3, day3)
                            DateLabel:
                                id: day3
                                text: '9'

                    CalendarDay:
                        DayLabel:
                            text: 'Sat'
                        Date:
                            id: date4
                            on_release: root.set_new_date(date4, day4)
                            DateLabel:
                                id: day4
                                text: '10'

                    CalendarDay:
                        DayLabel:
                            text: 'Sun'
                        Date:
                            id: date5
                            on_release: root.set_new_date(date5, day5)
                            DateLabel:
                                id: day5
                                text: '11'

                    CalendarDay:
                        DayLabel:
                            text: 'Mon'
                        Date:
                            id: date6
                            on_release: root.set_new_date(date6, day6)
                            DateLabel:
                                id: day6
                                text: '12'

                    CalendarDay:
                        DayLabel:
                            text: 'Tue'
                        Date:
                            id: date7
                            on_release: root.set_new_date(date7, day7)
                            DateLabel:
                                id: day7
                                text: '13'

                    CalendarDay:
                        DayLabel:
                            text: 'Wed'
                        Date:
                            id: date8
                            on_release: root.set_new_date(date8, day8)
                            DateLabel:
                                id: day8
                                text: '14'

                    CalendarDay:
                        DayLabel:
                            text: 'Thu'
                        Date:
                            id: date9
                            on_release: root.set_new_date(date9, day9)
                            DateLabel:
                                id: day9
                                text: '15'

                    CalendarDay:
                        DayLabel:
                            text: 'Fri'
                        Date:
                            id: date10
                            on_release: root.set_new_date(date10, day10)
                            DateLabel:
                                id: day10
                                text: '16'

                    CalendarDay:
                        DayLabel:
                            text: 'Sat'
                        Date:
                            id: date11
                            on_release: root.set_new_date(date11,day11)
                            DateLabel:
                                id: day11
                                text: '17'

                    CalendarDay:
                        DayLabel:
                            text: 'Sun'
                        Date:
                            id: date12
                            on_release: root.set_new_date(date12,day12)
                            DateLabel:
                                id: day12
                                text: '18'

                    CalendarDay:
                        DayLabel:
                            text: 'Mon'
                        Date:
                            id: date13
                            on_release: root.set_new_date(date13, day13)
                            DateLabel:
                                id: day13
                                text: '19'

                    CalendarDay:
                        DayLabel:
                            text: 'Tue'
                        Date:
                            id: date14
                            on_release: root.set_new_date(date14, day14)
                            DateLabel:
                                id: day14
                                text: '20'

                    CalendarDay:
                        DayLabel:
                            text: 'Wed'
                        Date:
                            id: date15
                            on_release: root.set_new_date(date15, day15)
                            DateLabel:
                                id: day15
                                text: '21'


        # Today's Exercises
        ExercisesList:


        MDFillRoundFlatButton:
            text: "Add Workout"
            text_color: 1, 1, 1, 1
            md_bg_color: 0.73, 0.49, 0.28, 1
            font_size: '18sp'
            text_size: self.size
            size_hint: None, None
            width: root.width * 0.8
            height: root.width * 0.12
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
            font_name: 'assets/fonts/Sofia-Pro-Medium.ttf'
            on_release: root.open_add_exercise_bottom_sheet()
            # TODO Scrap this, it'd be better to add exercises directly on the list.
        
    MDFloatLayout:
        MDIconButton:
            icon: 'dots-vertical'
            pos_hint: {'center_x': 0.9, 'center_y': 0.95}
            on_press: app.callback(self)



<Content>:
    MDLabel:
        text: 'Back Squats'
        font_name: 'assets/fonts/Sofia-Pro-Extra-Light.ttf'
        font_size: '24sp'
        padding_x: dp(10)
        pos_hint: {'center_y': 0.5}
    NumField:
        id: sets_num_field
        x: dp(25)
    MDLabel:
        text: ' Ã—'
        padding_y: dp(30)
        font_name: 'assets/fonts/Sofia-Pro-Extra-Light.ttf'
        font_size: '42sp'
        pos: (dp(50), dp(-35))
    NumField:
        id: reps_num_field
        pos_hint: {'center_x': 0.3}
    MDLabel:
        text: "sets"
        font_name: 'assets/fonts/Sofia-Pro-Medium.ttf'
        pos_hint: {'center_x': 0.56, 'center_y': 0.01}
    MDLabel:
        text: "reps"
        font_name: 'assets/fonts/Sofia-Pro-Medium.ttf'
        pos_hint: {'center_x': 0.76, 'center_y': 0.01}


<ExercisesList>:
    orientation: 'vertical'
    ScrollView:
        MDGridLayout:
            id: box
            name: 'box'
            cols: 1
            adaptive_height: True
